<!--INICIO ETIQUETA PARA MOSTRAR LAS NOTIFICACIONES -->
<div id="notification-container"></div>
<!--FIN ETIQUETA PARA MOSTRAR LAS NOTIFICACIONES -->

<div class="contaiiner">
  <div class="card m-4">

    <div class="card-header d-flex justify-content-start">
      <mat-icon matSuffix class="size-3 mr-2">person</mat-icon>
      <h5>Proveedores</h5>
    </div>
    <div class="card-body">

      <!-- INICIO CONTENEDOR DE CREAR -->
      <div class="mb-3" *ngIf="openWindowOf=='create'">
        <fieldset class="card">

          <legend class="s-legend">
            <mat-icon matSuffix>add</mat-icon><span>Crear un nuevo Proveedor</span>
          </legend>

          <div>

            <form [formGroup]="providerForm" (ngSubmit)="onCreateProduct()" class="form-container">

              <div class="container-input">


                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Nombre" formControlName="providerName" required>
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="RTN" name="providerRtn" formControlName="providerRtn"
                    required>
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Email" name="providerEmail" formControlName="providerEmail"
                    required>
                  <mat-icon matSuffix>mail</mat-icon>
                </mat-form-field>

              </div>

              <div class="container-input">

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Telefono 1" name="providerPhone1"
                    formControlName="providerPhone1" required>
                  <mat-icon matSuffix>phone</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Telefono 2" name="providerPhone2"
                    formControlName="providerPhone2" required>
                  <mat-icon matSuffix>phone</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Contacto" name="providerContact"
                    formControlName="providerContact" required>
                  <mat-icon matSuffix>person</mat-icon>
                </mat-form-field>


              </div>
<!-- 
              <div class="container-input">

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Ciudad" name="providerCity"
                    formControlName="providerCity" required>
                  <mat-icon matSuffix>place</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4 w-100">
                  <input type="text" matInput placeholder="Direccion completa del proveedor" name="providerDirection"
                    formControlName="providerDirection" required>
                  <mat-icon matSuffix>create</mat-icon>
                </mat-form-field>


              </div> -->

              <div class="w-50">
                <button mat-flat-button class="my-bg-primary text-white w-50" type="submit"
                  [disabled]="!providerForm.valid">Crear Proveedor</button>
              </div>

            </form>

          </div>

        </fieldset>
      </div>
      <!-- FIN CONTENEDOR DE CREAR -->

      <!-- INICIO CONTENEDOR DE EDITAR -->
      <div class="mb-3" *ngIf="openWindowOf=='edit'">
        <fieldset class="card">

          <legend class="s-legend">
            <mat-icon matSuffix>edit</mat-icon><span>Editar Datos del Producto</span>
          </legend>

          <div>

            <form [formGroup]="providerForm" (ngSubmit)="onEditProduct()" class="form-container">

              <div class="container-input">

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Nombre" formControlName="providerName" required>
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="RTN" name="providerRtn" formControlName="providerRtn"
                    required>
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Email" name="providerEmail" formControlName="providerEmail"
                    required>
                  <mat-icon matSuffix>mail</mat-icon>
                </mat-form-field>

              </div>

              <div class="container-input">

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Telefono 1" name="providerPhone1"
                    formControlName="providerPhone1" required>
                  <mat-icon matSuffix>phone</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Telefono 2" name="providerPhone2"
                    formControlName="providerPhone2" required>
                  <mat-icon matSuffix>phone</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="text" matInput placeholder="Contacto" name="providerContact"
                    formControlName="providerContact" required>
                  <mat-icon matSuffix>person</mat-icon>
                </mat-form-field>

              </div>

              <div class="w-50">
                <button mat-flat-button class="my-bg-primary text-white w-25" type="submit"
                  [disabled]="!productForm.valid">Editar Producto</button>
              </div>

            </form>

          </div>

        </fieldset>
      </div>
      <!-- FIN CONTENEDOR DE EDITAR -->

      <!-- INICIO CONTENEDOR DE FILTRO -->
      <div class="mb-3" *ngIf="openWindowOf=='filter'">
        <fieldset class="card">

          <legend class="s-legend">
            <mat-icon matSuffix>filter_list</mat-icon><span>Fitrar</span>
          </legend>


          <div>

            <form class="form-container">

              <div class="container-input">

                <mat-form-field class="form-field-full-width">
                  <input matInput #message maxlength="50" placeholder="Busqueda General">
                  <mat-icon matSuffix>search</mat-icon>
                  <mat-hint align="start"><strong>La cantidad de caracteres esta limitada</strong> </mat-hint>
                  <mat-hint align="end">{{message.value.length}} / 50</mat-hint>
                </mat-form-field>

              </div>

              <div class="container-input container-filter">

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="tel" matInput placeholder="Nombre">
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="tel" matInput placeholder="RTN">
                  <mat-icon matSuffix>sort</mat-icon>
                </mat-form-field>

                <mat-form-field class="form-field-full-width mr-4">
                  <input type="tel" matInput placeholder="Contacto">
                  <mat-icon matSuffix>person</mat-icon>
                </mat-form-field>

              </div>

            </form>

          </div>

        </fieldset>
      </div>
      <!-- FIN CONTENEDOR DE FILTRO -->

      <!-- INICIO CONTENEDOR DE LA TABLA -->
      <div class="card ">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

          <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? masterToggle() : null"
                [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                [checked]="selection.isSelected(row)">
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="options">
            <th mat-header-cell *matHeaderCellDef> Opciones </th>
            <td mat-cell *matCellDef="let element">
              <a (click)="openTypeWindow('edit');" mat-icon-button class="my-color-primary">
                <mat-icon class="">edit</mat-icon>
              </a>
              <a (click)="deleteItem();" mat-icon-button class="my-color-primary">
                <mat-icon>delete</mat-icon>
              </a>
            </td>
          </ng-container>

          <ng-container matColumnDef="Nombre">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element"> {{element.providerName}} </td>
          </ng-container>

          <ng-container matColumnDef="RTN">
            <th mat-header-cell *matHeaderCellDef> RTN </th>
            <td mat-cell *matCellDef="let element"> {{element.providerRtn}} </td>
          </ng-container>

          <ng-container matColumnDef="CorreoElectronico">
            <th mat-header-cell *matHeaderCellDef> Correo Electronico </th>
            <td mat-cell *matCellDef="let element"> {{element.providerEmail}} </td>
          </ng-container>

          <ng-container matColumnDef="Telefono1">
            <th mat-header-cell *matHeaderCellDef> Telefono 1 </th>
            <td mat-cell *matCellDef="let element"> {{element.providerPhone1}} </td>
          </ng-container>

          <ng-container matColumnDef="Telefono2">
            <th mat-header-cell *matHeaderCellDef> Telefono 2 </th>
            <td mat-cell *matCellDef="let element"> {{element.providerPhone2}} </td>
          </ng-container>

          <ng-container matColumnDef="Contacto">
            <th mat-header-cell *matHeaderCellDef> Contacto </th>
            <td mat-cell *matCellDef="let element"> {{element.providerContact}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
          </tr>
        </table>

        <!-- <div *ngIf="dataSource.length === 0">No records found</div> -->

      </div>
      <!-- FIN CONTENEDOR DE LA TABLA -->

    </div>
  </div>
</div>

<div class="button-options">
  <a mat-fab (click)="openTypeWindow('create');" id="add">
    <mat-icon>add</mat-icon>
  </a>

  <a mat-fab (click)="openTypeWindow('filter');" id="filter">
    <mat-icon>filter_list</mat-icon>
  </a>
</div>
<!-- <table>
  <tr *ngFor="let brand of filteredBrand">
    <td>{{brand.productBrandName}}</td>
  </tr>
</table> -->